<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>闭包</title>
</head>
<body>
	<script type="text/javascript">
		// var scope = "global scope";
		// function checkscope(){
		// 	var scope = "local scope";
		// 	function f(){return scope;}
		// 	return f();//返回一个函数对象
		// }
		// alert(checkscope());

		//  var unipueInteger = function(){//定义函数并立即调用
		// 	var counter = 0;
		// 	//函数的私有状态，但外部函数返回之后，其他代码都无法访问到，只有内部的函数才能访问
		// 	return function(){
		// 		return counter++;
		// 	};
		// }();
		// console.log(unipueInteger());

		// var func = (function(){
		// 	var a = 'haha';
		// 	var func1 = function(){
		// 		a += 'a';
		// 		console.log(a);
		// 	}
		// 	return func1;
		// })();//立即执行函数
		// var func2 = func;//为什么要加括号
		// func2();
		// func2();

		// 执行顺序：先执行4次循环，再执行回调函数的
		// for(let i = 0; i < 4; i++){
		// 	setTimeout(function(){
		// 		console.log(i)
		// 	},0)
		// }

		// i包裹在function的块作用域内，不会被污染
		// for(var i = 0; i < 4; i++){
		// 	(function(j){
		// 		setTimeout(function(){
		// 			console.log(j)
		// 		},5000)
		// 	})(i)
		// }

		// for(var i = 0; i < 4; i++){
		// 	console.log(i);
		// }

		// function wait(message){
		// 	function timer(){
		// 		console.log(message)
		// 	}
		// 	foo = timer;
		// }
		// wait("hahah");
		// setTimeout(foo(),1000);
		
		var fn;
		function foo() {
			var a = 2;
			function bar() {
				console.log(a);
			}
			// baz(bar);
			fn = bar;
		}
		function baz() {
			fn();
		}
		foo();
		baz();
	</script>
	
</body>
</html>